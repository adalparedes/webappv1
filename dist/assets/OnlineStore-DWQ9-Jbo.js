import{u as S,a as y,r as l,j as e,s as P}from"./index-B70TsQmv.js";import{M as v}from"./ModalContainer-CLNa7ERG.js";import{i as A,c as _}from"./stripe-DvR_4HOq.js";import E from"./LoadBalance-DF-CULrL.js";const I=({onClose:x,items:n,total:h})=>{const{user:N,session:o}=S(),{clearCart:j}=y(),[r,d]=l.useState(null),[p,m]=l.useState(!1),[c,u]=l.useState(!1),[b,s]=l.useState(!1),[i,f]=l.useState(null),k=n.some(t=>t.type==="product"),C=async()=>{if(!(!c||!r||!(o!=null&&o.user))){m(!0);try{if(r==="card"){const t=n.map(a=>{let g="physical_product";return a.id.toString().includes("MEM")||a.name.toLowerCase().includes("plan")?g="membership":a.id.toString().includes("CRED")||a.id.toString().startsWith("BASE_")?g="credit_pack":a.id.toString().startsWith("SVC_")&&(g="service"),{id:String(a.id),name:a.name,price:a.price,quantity:a.quantity,type:g}});await A({userId:o.user.id,userEmail:o.user.email||"",items:t})}else if(r==="crypto"){let t="merch";n.some(a=>a.id.toString().includes("MEM")||a.name.toLowerCase().includes("plan"))?t="membership":n.some(a=>a.id.toString().startsWith("SVC_"))?t="service":n.some(a=>a.type==="service"||a.id.toString().includes("CRED"))&&(t="credits"),await _({userId:o.user.id,amount:h,orderId:`TX_${Date.now()}`,orderDescription:n.map(a=>a.name).join(", "),category:t})}else s(!0),j()}catch(t){console.error("Checkout Fail:",t),m(!1)}}},w=(t,a)=>{navigator.clipboard.writeText(t.replace(/\s/g,"")),f(a),setTimeout(()=>f(null),2e3)};return b?e.jsx(v,{title:"OperaciÃ³n Registrada",onClose:x,children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-in zoom-in",children:[e.jsx("div",{className:"w-20 h-20 bg-[#00ff88]/10 border-2 border-[#00ff88] rounded-full flex items-center justify-center text-4xl mb-6 shadow-[0_0_30px_rgba(0,255,136,0.3)]",children:"âœ“"}),e.jsx("h3",{className:"text-xl font-orbitron font-bold text-white uppercase mb-4 tracking-tighter",children:"Pedido en BÃºfer de ValidaciÃ³n"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-mono mb-8 uppercase tracking-widest max-w-sm leading-relaxed",children:"Tu solicitud de mercancÃ­a serÃ¡ validada por el equipo de Adal AI. EnvÃ­a tu comprobante para iniciar la logÃ­stica de envÃ­o."}),e.jsx("button",{onClick:x,className:"px-10 py-4 bg-[#00ff88] text-black font-bold rounded-xl uppercase font-orbitron hover:scale-105 transition-all",children:"Finalizar Protocolo"})]})}):e.jsx(v,{title:k?"CHECKOUT MERCANCÃA OFICIAL":"PASARELA DE PAGO SEGURA",onClose:x,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-black/40 border border-[#00d2ff]/20 p-8 rounded-[2rem] relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-4xl group-hover:opacity-10 transition-opacity",children:"ðŸ“¦"}),e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("span",{className:"w-2 h-2 bg-[#00d2ff] rounded-full animate-pulse"}),e.jsx("h4",{className:"text-[10px] font-mono text-[#00d2ff] uppercase tracking-widest font-bold",children:"Resumen de tu Orden"})]}),e.jsx("div",{className:"space-y-4 max-h-48 overflow-y-auto custom-scrollbar pr-2 mb-6",children:n.map(t=>e.jsxs("div",{className:"flex justify-between items-center text-[11px] border-b border-white/5 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:t.image}),e.jsxs("span",{className:"text-gray-400 font-mono uppercase truncate max-w-[140px]",children:[t.name," x",t.quantity]})]}),e.jsxs("span",{className:"text-[#00ff88] font-mono font-bold",children:["$",(t.price*t.quantity).toFixed(2)]})]},t.id))}),e.jsxs("div",{className:"pt-6 border-t border-white/10 flex justify-between items-end",children:[e.jsx("span",{className:"text-[10px] font-mono text-gray-400 uppercase tracking-widest",children:"Total a Pagar"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-4xl font-orbitron font-bold text-white tracking-tighter shadow-sm",children:["$",h.toFixed(2)]}),e.jsx("p",{className:"text-[8px] text-[#00ff88] font-mono uppercase font-bold mt-1",children:"SincronizaciÃ³n de Pago AES-256"})]})]})]}),e.jsxs("div",{className:"p-5 bg-red-500/5 border border-red-500/20 rounded-2xl flex gap-4 items-start relative overflow-hidden group",children:[e.jsx("div",{className:"text-2xl animate-pulse shrink-0",children:"âš ï¸"}),e.jsxs("div",{className:"flex flex-col gap-1 z-10",children:[e.jsx("span",{className:"text-[10px] font-bold text-red-500 uppercase tracking-widest",children:"Aviso Clientes USA / Internacional:"}),e.jsxs("p",{className:"text-[10px] text-gray-300 font-mono leading-relaxed uppercase italic",children:["Para compras de mercancÃ­a fuera de MÃ©xico, recomendamos ",e.jsx("span",{className:"text-white font-bold",children:"Tarjeta de CrÃ©dito"}),". Las transferencias bancarias pueden retrasar la logÃ­stica de envÃ­o de 3 a 5 dÃ­as hÃ¡biles."]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-mono text-gray-500 uppercase tracking-widest px-1",children:"2. Seleccionar Pasarela de Pago"}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("button",{onClick:()=>d("card"),className:`p-4 border rounded-2xl text-left transition-all flex items-center justify-between group ${r==="card"?"border-[#00d2ff] bg-[#00d2ff]/10":"border-white/5 bg-black/40 hover:border-white/20"}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-bold text-white uppercase",children:"Tarjeta CrÃ©dito / DÃ©bito"}),e.jsx("span",{className:"text-[8px] text-gray-500 font-mono uppercase",children:"Stripe Global Gateway"})]}),e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"ðŸ’³"})]}),e.jsxs("button",{onClick:()=>d("crypto"),className:`p-4 border rounded-2xl text-left transition-all flex items-center justify-between group ${r==="crypto"?"border-[#f7931a] bg-[#f7931a]/10":"border-white/5 bg-black/40 hover:border-white/20"}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-bold text-white uppercase",children:"Criptomonedas (Blockchain)"}),e.jsx("span",{className:"text-[8px] text-[#f7931a] font-mono uppercase font-bold animate-pulse",children:"-15% RECOMPENSA"})]}),e.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform",children:"â‚¿"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>d("bank_usa"),className:`w-full p-4 border rounded-2xl text-left transition-all flex items-center justify-between group ${r==="bank_usa"?"border-[#00d2ff] bg-[#00d2ff]/10":"border-white/5 bg-black/40 hover:border-white/20"}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-bold text-white uppercase",children:"USD USA Wire / ACH"}),e.jsx("span",{className:"text-[8px] text-gray-500 font-mono uppercase",children:"Lead Bank Wire"})]}),e.jsx("span",{className:"text-2xl",children:"ðŸ¦"})]}),r==="bank_usa"&&e.jsx("div",{className:"p-5 bg-black/60 border border-[#00d2ff]/30 rounded-2xl space-y-3 animate-in slide-in-from-top-2",children:[{l:"Titular",v:"Adalberto Paredes Gutierrez"},{l:"Banco",v:"Lead Bank"},{l:"Cuenta",v:"214595020057"},{l:"ACH",v:"101019644"}].map(t=>e.jsxs("div",{className:"flex flex-col text-[10px] font-mono",children:[e.jsxs("span",{className:"text-gray-500 uppercase text-[8px]",children:[t.l,":"]}),e.jsx("button",{onClick:()=>w(t.v,t.l),className:"text-white hover:text-[#00d2ff] font-bold text-left",children:i===t.l?"COPIADO":t.v})]},t.l))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>d("bank_mxn"),className:`w-full p-4 border rounded-2xl text-left transition-all flex items-center justify-between group ${r==="bank_mxn"?"border-[#00ff88] bg-[#00ff88]/10":"border-white/5 bg-black/40 hover:border-white/20"}`,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-bold text-white uppercase",children:"Transferencia MÃ©xico (MXN)"}),e.jsx("span",{className:"text-[8px] text-gray-500 font-mono uppercase",children:"SPEI Nu Bank Sync"})]}),e.jsx("span",{className:"text-xl font-bold text-white",children:"MX"})]}),r==="bank_mxn"&&e.jsx("div",{className:"p-5 bg-black/60 border border-[#00ff88]/30 rounded-2xl space-y-3 animate-in slide-in-from-top-2",children:[{l:"Beneficiario",v:"Adalberto Paredes Gutierrez"},{l:"CLABE",v:"6381 8000 0113 7662 19"},{l:"Banco",v:"NU MÃ‰XICO"}].map(t=>e.jsxs("div",{className:"flex flex-col text-[10px] font-mono",children:[e.jsxs("span",{className:"text-gray-500 uppercase text-[8px]",children:[t.l,":"]}),e.jsx("button",{onClick:()=>w(t.v,t.l),className:"text-white hover:text-[#00ff88] font-bold text-left",children:i===t.l?"COPIADO":t.v})]},t.l))})]})]}),e.jsxs("div",{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 cursor-pointer group",onClick:()=>u(!c),children:[e.jsx("div",{className:`mt-0.5 w-4 h-4 rounded border transition-all flex items-center justify-center ${c?"bg-[#00ff88] border-[#00ff88]":"border-white/20 bg-black"}`,children:c&&e.jsx("span",{className:"text-black text-[10px] font-bold",children:"âœ“"})}),e.jsx("span",{className:"text-[9px] text-gray-500 uppercase font-mono leading-tight select-none",children:"Acepto los tÃ©rminos de logÃ­stica y validaciÃ³n de pago."})]}),e.jsx("button",{disabled:!r||!c||p,onClick:C,className:`w-full py-5 font-orbitron font-bold text-[10px] rounded-2xl uppercase transition-all tracking-[0.2em] shadow-xl ${!r||!c||p?"bg-gray-800 text-gray-600":"bg-[#00ff88] text-black hover:bg-white shadow-[0_0_30px_rgba(0,255,136,0.4)]"}`,children:p?"Sincronizando Orden...":"Confirmar Pedido"})]})]})]})})},M=[{id:"p1",name:"Hacker Hoodie V2",price:59.99,originalPrice:89.99,img:"ðŸ‘•",desc:"Material premium ultra-soft.",stock:5,type:"product"},{id:"p2",name:"AP Tech Cap",price:24.99,originalPrice:35,img:"ðŸ§¢",desc:"EdiciÃ³n limitada bordado cian.",stock:12,type:"product"}],$=({onClose:x})=>{const{addItem:n,items:h,total:N}=y(),[o,j]=l.useState([]),[r,d]=l.useState(!0),[p,m]=l.useState(!1),[c,u]=l.useState(!1);l.useEffect(()=>{(async()=>{try{const{data:i,error:f}=await P.from("credit_packs").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(f)throw f;i&&j(i)}catch(i){console.error("Error fetching packs:",i)}finally{d(!1)}})()},[]);const b=s=>{s.type==="service"||s.credits?u(!0):(n({id:s.id,name:s.name,price:s.price,image:s.img,quantity:1,type:"product"}),m(!0))};return c?e.jsx(E,{onClose:()=>u(!1)}):p?e.jsx(I,{onClose:()=>m(!1),items:h,total:N}):e.jsx(v,{title:"Tienda Online & CrÃ©ditos",onClose:x,children:e.jsxs("div",{className:"space-y-12",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-[#00ff88]/10 rounded-xl flex items-center justify-center border border-[#00ff88]/20",children:e.jsx("span",{className:"text-xl",children:"ðŸ’Ž"})}),e.jsx("h3",{className:"font-orbitron font-bold text-white uppercase tracking-widest text-sm",children:"Recargas de CrÃ©dito InstantÃ¡neas"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:r?Array.from({length:4}).map((s,i)=>e.jsx("div",{className:"h-32 bg-white/5 animate-pulse rounded-2xl"},i)):o.map(s=>e.jsxs("div",{className:"bg-gradient-to-br from-[#00ff88]/5 to-transparent border border-white/5 rounded-2xl md:rounded-3xl p-4 md:p-6 flex flex-col hover:border-[#00ff88]/40 transition-all group relative overflow-hidden min-h-[160px] md:min-h-[200px]",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-24 h-24 bg-[#00ff88]/5 rounded-full blur-3xl group-hover:bg-[#00ff88]/15 transition-all"}),e.jsxs("div",{className:"flex justify-between items-start mb-2 md:mb-4 relative z-10",children:[e.jsx("span",{className:"text-xl md:text-2xl group-hover:scale-110 group-hover:rotate-12 transition-transform duration-500",children:"ðŸ’Ž"}),e.jsxs("span",{className:"text-[8px] md:text-[10px] font-mono text-[#00ff88] font-bold bg-[#00ff88]/10 px-2 py-0.5 rounded-full",children:["+",s.credits]})]}),e.jsx("h4",{className:"text-[9px] md:text-[10px] font-orbitron font-bold text-gray-400 uppercase mb-1 relative z-10 truncate",children:s.name}),e.jsxs("div",{className:"text-lg md:text-2xl font-orbitron font-bold text-white mb-auto relative z-10",children:["$",s.price_usd]}),e.jsx("button",{onClick:()=>b({...s,id:s.code,type:"service",img:"ðŸ’Ž",price:s.price_usd}),className:"w-full py-3 md:py-4 bg-[#00ff88] text-black text-[9px] md:text-[10px] font-orbitron font-bold rounded-xl transition-all uppercase tracking-[0.1em] md:tracking-[0.2em] shadow-[0_5px_15px_rgba(0,255,136,0.3)] hover:scale-[1.05] active:scale-95 relative z-10 mt-3",children:"Seleccionar"})]},s.code))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-[#00d2ff]/10 rounded-xl flex items-center justify-center border border-[#00d2ff]/20",children:e.jsx("span",{className:"text-xl",children:"ðŸ‘•"})}),e.jsx("h3",{className:"font-orbitron font-bold text-white uppercase tracking-widest text-sm",children:"Merchandising Oficial"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-8",children:M.map(s=>e.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-[1.5rem] md:rounded-[2.5rem] p-4 md:p-5 flex flex-col hover:border-[#00ff88]/30 transition-all group",children:[e.jsx("div",{className:"w-full aspect-square bg-white/5 rounded-2xl md:rounded-3xl flex items-center justify-center text-4xl md:text-6xl mb-4 md:mb-5 group-hover:scale-105 transition-transform duration-500 shadow-inner overflow-hidden",children:s.img}),e.jsx("h4",{className:"text-[11px] md:text-sm font-bold text-white mb-1 truncate px-1",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-5 px-1",children:[e.jsxs("span",{className:"text-sm md:text-xl font-orbitron font-bold text-[#00ff88]",children:["$",s.price]}),e.jsxs("span",{className:"text-[8px] md:text-[10px] text-gray-600 line-through font-mono tracking-tighter",children:["$",s.originalPrice]})]}),e.jsx("button",{onClick:()=>b(s),className:"w-full py-3 md:py-4 bg-white/5 border border-white/10 text-white text-[9px] md:text-[10px] font-orbitron font-bold rounded-xl md:rounded-2xl hover:bg-[#00ff88] hover:text-black transition-all uppercase tracking-widest",children:"Agregar y Pagar"})]},s.id))})]})]})})};export{$ as default};
